<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title> top指令的使用 - </title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#linux">linux</a>&nbsp;&#187;&nbsp;<a href="/#linux-shell">shell</a>&nbsp;&#187;&nbsp; top指令的使用
    <span class="updated">Page Updated&nbsp;
      2019-03-14 22:14:41
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title"> top指令的使用</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#top">top指令的使用</a><ul>
<li><a href="#top_1">top界面简介</a><ul>
<li><a href="#_1">第一行</a></li>
<li><a href="#_2">第二行</a></li>
<li><a href="#_3">第三行</a></li>
<li><a href="#_4">第四行</a></li>
</ul>
</li>
<li><a href="#_5">进程信息</a></li>
<li><a href="#_6">操作指令</a></li>
<li><a href="#_7">参考链接</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="top">top指令的使用</h1>
<h2 id="top_1">top界面简介</h2>
<p><img alt="img" src="assets/2019-01-21-18-20-42.png" /></p>
<p>top界面分为两个部份，光标上面部份显示关于系统整体性能，光标下面部份显示各进程信息。光标所在处是用来输入操作命令的。</p>
<h3 id="_1">第一行</h3>
<div class="hlcode"><pre>top - 20:55:28 up 2 days,  8:31,  1 user,  load average: 1.36, 1.40, 1.01
</pre></div>


<p>显示的内容和uptime命令一样，<code>l</code>可以显示和隐藏这个区域：</p>
<ul>
<li>20:55:28：系统当前时间</li>
<li>up 2 days, 8:31： 系统开机到现在经过了多少时间</li>
<li>1 user： 当前2用户在线</li>
<li>load average: 1.36, 1.40, 1.01: 系统1分钟、5分钟、15分钟的CPU负载信息</li>
</ul>
<h3 id="_2">第二行</h3>
<div class="hlcode"><pre>任务: 375 total,   4 running, 287 sleeping,   0 stopped,   3 zombie
</pre></div>


<ul>
<li>375 total：当前有38个任务，也就是38个进程</li>
<li>4 running：1个进程正在运行</li>
<li>287 sleeping：37个进程睡眠</li>
<li>0 stopped：停止的进程数</li>
<li>3 zombie：僵死的进程数</li>
</ul>
<h3 id="_3">第三行</h3>
<p>这一行显示CPU总体信息</p>
<div class="hlcode"><pre>%Cpu<span class="o">(</span>s<span class="o">)</span> : 10.7 us,  2.7 sy,  0.0 ni, 86.1 id,  0.4 wa,  0.0 hi,  0.0 si,  0.0 st
</pre></div>


<ul>
<li>10.7 us：用户态进程占用CPU时间百分比，改变过优先级的进程CPU时间百分比</li>
<li>2.7 sy：内核占用CPU时间百分比</li>
<li>0.0 ni：改变过优先级的进程CPU时间百分比。nice是优先级的意思</li>
<li>86.1 id：空闲CPU时间百分比, 反映一个系统cpu的闲忙程度, 越大越空闲</li>
<li>0.4 wa：I/O等待的CPU时间百分比</li>
<li>0.0 hi：CPU硬中断时间百分比</li>
<li>0.0 si：CPU软中断时间百分比</li>
<li>0.0 st：用于有虚拟cpu的情况，用来指示被虚拟机偷掉的cpu时间</li>
</ul>
<h3 id="_4">第四行</h3>
<div class="hlcode"><pre>KiB Mem  : 32794388 total,  8450792 free,  3893432 used, 20450164 buffers
KiB Swap : 31250428 total, 31250428 free,        0 used. 27807536 cached
</pre></div>


<ul>
<li>32794388 total：物理内存/交换空间总量</li>
<li>3893432 used：使用的物理内存量/交换空间</li>
<li>8450792 free：空闲的物理内存量</li>
<li>20450164 buffers：用作内核缓存的物理内存量</li>
<li>27807536 cached：缓冲交换区总量</li>
<li>内存中的内容被换出到交换区，而后又被换入到内存，但使用过的交换区尚未被覆盖，该数值即为这些内容已存在于内存中的交换区的大小。相应的内存再次被换出时可不必再对交换区写入。</li>
</ul>
<h2 id="_5">进程信息</h2>
<div class="hlcode"><pre>PID     USER    PR  NI  VIRT    RES     SHR S   %CPU    %MEM    TIME+   COMMAND
11836   root    15  0   2324    1028    800 R   0.3     0.0     0:00.02 top
27225   root    25  0   1494m   696m    11m S   0.3     17.5    2304:03 java
1       root    18  0   2072    620     532 S   0.0     0.0     7:04.48 init
</pre></div>


<ul>
<li>PID：进程的ID(PPID 父进程ID)</li>
<li>USER：进程所有者</li>
<li>PR：进程的优先级别，越小越优先被执行</li>
<li>NI:值</li>
<li>VIRT：进程占用的虚拟内存</li>
<li>RES：进程占用的物理内存</li>
<li>SHR：进程使用的共享内存</li>
<li>S：进程的状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</li>
<li>%CPU：进程占用CPU的使用率</li>
<li>%MEM：进程使用的物理内存和总内存的百分比</li>
<li>TIME+：该进程启动后占用的总的CPU时间，即占用CPU使用时间的累加值。</li>
<li>COMMAND：进程启动命令名称</li>
</ul>
<h2 id="_6">操作指令</h2>
<ul>
<li>q：退出top命令</li>
<li><code>&lt;Space&gt;</code>：立即刷新</li>
<li>s：设置刷新时间间隔</li>
<li>c：显示命令完全模式</li>
<li>t:：显示或隐藏进程和CPU状态信息</li>
<li>m：显示或隐藏内存状态信息</li>
<li>l：显示或隐藏uptime信息</li>
<li>f：增加或减少进程显示标志</li>
<li>S：累计模式，会把已完成或退出的子进程占用的CPU时间累计到父进程的TIME+</li>
<li>P：按%CPU使用率排行</li>
<li>T：按TIME+排行</li>
<li>M：按%MEM排行</li>
<li>u：指定显示用户进程</li>
<li>r：修改进程renice值</li>
<li>k：kill进程</li>
<li>i：只显示正在运行的进程</li>
<li>W：保存对top的设置到文件~/.toprc，下次启动将自动调用toprc文件的设置</li>
<li>h：帮助命令</li>
</ul>
<p><code>h</code>操作截图:</p>
<p><img alt="img" src="assets/2019-01-21-22-09-36.png" /></p>
<h2 id="_7">参考链接</h2>
<ul>
<li>每天一个linux命令（44）：top命令: <a href="https://www.cnblogs.com/peida/archive/2012/12/24/2831353.html">https://www.cnblogs.com/peida/archive/2012/12/24/2831353.html</a></li>
<li>新手指南：详解Linux Top 命令: <a href="http://os.51cto.com/art/201108/285581.htm">http://os.51cto.com/art/201108/285581.htm</a></li>
</ul>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2019 .
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.</p>
        <p>Site Generated 2019-03-14 22:27:48</p>
      </span>
    </div>

    
    
  </body>
</html>